<import src="../common/node_header.wxml"/>
<import src="../common/node_technologies.wxml"/>
<import src="../common/node_resources.wxml"/>

<nav isFromWeapp="{{isFromWeapp}}" title="{{navigateTitle}}" hasHeaderHeight></nav>
<block wx:if="{{resource !== null}}">
  <view style="padding-top: {{statusBarHeight}}px">
    <view class="node-header">
      <view class="node-header__container">
        <view class="node-header__full">{{resource.name}}</view>
        <view class="node-header__en" wx:if="{{resource.types}}">{{resource.types}}</view>
        <template wx:if="{{resource.technologies.length != 0}}" is="node-technologies" data="{{technologies: resource.technologies}}"/>
      </view>
    </view>
    <view wx:if="{{resource.desc != ''}}" class="node-block t-first" id="js-introduction">
        <view class="node-block__header">
          <text class="node-block__title">简介</text>
        </view>
        <view class="content">
          <import src="../../wxParse/wxParse.wxml"/>
          <template is="wxParse" data="{{wxParseData:resource_content.nodes}}" />

          <view class="resource--ext">相关链接</view>
          <view class="resource--source" wx:for="{{resource.ext_relationships}}" wx:key="unique" wx:for-index="key" wx:for-item="value" bindtap="copyclip" data-url="{{value}}">
            <image src="/icons/node_source.png" class="resource--icon" />
            <text>{{key}}：</text>
            <text>{{value}}</text>
          </view>
        </view>
    </view>
    <template wx:if="{{resource.papers.length != 0}}" is="node-only-list" data="{{list: resource.papers, typeName: '论文', isLink: false}}" />
    <template wx:if="{{resource.related_resources.length != 0}}" is="node-only-list"
      data="{{list: resource.related_resources, typeName: '资源', isLink: true, link: '/pages/resource/resource'}}"
    />
    <view></view>
  </view>

  <settingEntry></settingEntry>
</block>
